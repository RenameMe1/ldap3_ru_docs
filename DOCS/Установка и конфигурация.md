
Установка это просто и может быть выполнено через пакетный менеджер или из источника
# Установка через пакетный менеджер

Вам нужен пакет `pip` (или другой пакетный менеджер, который может загрузить и установить из PyPi) для установки ldap3. Затем вы можете загрузить и установить ldap3 библиотеку напрямую из PyPi:

``` console
pip install ldap3
```

Эта библиотека имеет только одну зависимость в модуле `pyasn1`. Вы можете установить его или получить через установщик, которые сделает это за вас.

Если вам нужен доступ к серверу с механизмом аутентификации [[BIND#^23e93b|Kerberos SASL]] вы должны установить пакет `gssapi`.

ldap3 включает резервную версии (из Python 3.4.3) `ssl.check_hostnames` для использования на старших (версия < 2.7.10) версиях Python. Если вы хотите использовать более современную версию свойства `check_hostnames` вы можете установить пакет `backports.ssl_check_hostnames` который должен постоянно обновляться вместе со стандартной библиотекой последнего Python релиза его мэйнтейнерами. 
# Установка из источника

Вы можете скачать последнюю версию из источника [https://github.com/cannatag/ldap3](https://github.com/cannatag/ldap3), затем вы можете установить библиотеку с помощью:

``` console
python setup.py install
```
# Глобальная конфигурация

В библиотеке пакета **ldap3.utils.config** есть некоторые конфигурируемые настройки:

- **POOLING_LOOP_TIMEOUT = 10 #** Количество секунд для ожидания перед рестартом цикла поиска активного сервера в пуле.
- **RESPONSE_SLEEPTIME = 0.05 #** Секунды для ожидания, при ожидании ответа в асинхронных стратегиях. 
- **RESPONSE_WAITING_TIMEOUT = 3 #** Таймаут ожидания для получения ответа в асинхронных стратегиях.
- **SOCKET_SIZE = 4096 #** Размер сокета в байтах.
- **CHECK_AVAILABILITY_TIMEOUT = 2.5 #** стандартный таймаут для сокет подключения при проверке доступности. 
- **RESET_AVAILABILITY_TIMEOUT = 5 #** Стандартный таймаут для сброса статуса доступности при проверке адресов кандидатов. 
- **RESTARTABLE_SLEEPTIME = 2 #** Время ожидания в перезапускаемой стратегии перед повторной отправкой запроса
- **RESTARTABLE_TRIES = 30 #** Количество времени для повторения в перезапускаемой стратегии перед отказом. Укажите `True` для безграничных повторений.
- **REUSABLE_THREADED_POOL_SIZE = 5**
- **REUSABLE_THREADED_LIFETIME = 3600
- **DEFAULT_THREADED_POOL_NAME = ‘REUSABLE_DEFAULT_POOL’**
- **ADDRESS_INFO_REFRESH_TIME = 300 #** Секунды ожидания перед обновлением информации адреса из DNS.
- **ADDITIONAL_ENCODINGS = \[‘latin-1’\] #** Некоторые сломанные реализации LDAP, может иметь другие кодировки, чем те которые ожидаются в RFC
- **IGNORE_MALFORMED_SCHEMA = False #** некоторые ненадежные LDAP серверы возвращающие неправильную схему. Если `True` никаких ожиданий не возникает, и схема отбрасывается.

Этот параметр обще библиотечный и обычно должен сохранять стандартные значения.

Вы можете использовать функции `get_config_parameter()` и `set_config_parameter()` в пространстве имен ldap3 для получения и установки конфигурируемых параметров во время выполнения.
# Импорт объектов и констант

Все объекты и константы необходимые для использования ldap3 библиотеки могут быть импортированы из ldap3 пространства имен.

``` python
from ldap3 import Connection, Server, ANONYMOUS, SIMPLE, SYNC, ASYN
```
# Ошибки библиотеки

Вы можете иметь дело с ошибками в двух разных случаях. По стандарту в синхронных стратегиях каждая операция LDAP  возвращает значение `True` или `False`, которые указывает если операция была успешна или нет. В случае ошибок вы можете проверить описание ошибки в атрибуте `last_error` объекта [[Connection]].  В некоторых случаях исключения пользовательских иерархии начинается из класса `LDAPExceptionError` вызывается с описанием состояния ошибки в атрибуте `args`. 

Если вы предпочитаете иметь дело с [[EXCEPTIONS]] вы можете установить атрибут `raise_exceptions=True` в определении объекта [[Connection]]. Сейчас [[Connection]] будет вызывать исключения для всех операций которые возвращают коды результата, отличные от: `RESULT_SUCCESS`, `RESULT_COMPARE_FALSE`, `RESULT_COMPARE_TRUE`, `RESULT_REFERRAL`.

Коммуникационные исключения имеют множественное наследование либо из `LDAPCommunicationError` либо из конкретного исключения сокета.

Исключения определены в пакете `ldap3.core.exceptions`

[[Tutorial: ldap3 Abstract Layer - Writing data|Назад]]                                                                                                                              [[SERVER|Вперед]]